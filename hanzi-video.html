<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>汉字笔顺教学工具</title>
    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
    <style>
        body { font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; padding: 20px; background: #f9f9f9; text-align: center; }
        .container { max-width: 800px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        
        .text-display { margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
        .lang-label { color: #666; font-size: 0.9em; margin-bottom: 5px; }
        .content { font-size: 24px; font-weight: bold; margin-bottom: 15px; }
        
        #writer-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 20px; }
        .char-box { display: inline-block; border: 1px solid #ddd; background: #fff; padding: 10px; border-radius: 8px; }
        .pinyin { font-size: 18px; color: #e74c3c; margin-top: 5px; height: 25px; }
    </style>
</head>
<body>

<div class="container">
    <div class="text-display">
        <div class="lang-label">中文 (Chinois)</div>
        <div id="cn-text" class="content"></div>
        
        <div class="lang-label">法语 (Français)</div>
        <div id="fr-text" class="content" style="color: #2980b9;"></div>
    </div>

    <hr>

    <h3>笔顺演示 (Ordre des traits)</h3>
    <div id="writer-container"></div>
</div>

<script>
    // --- 配置数据 ---
    const config = {
        chinese: "你好",       // 输入中文
        french: "Bonjour",     // 输入法语
        pinyins: ["nǐ", "hǎo"] // 对应的拼音
    };

    // 初始化显示
    document.getElementById('cn-text').innerText = config.chinese;
    document.getElementById('fr-text').innerText = config.french;

    // 渲染汉字书写动画
    function renderHanzi() {
        const container = document.getElementById('writer-container');
        const chars = config.chinese.split('');

        chars.forEach((char, index) => {
            // 创建每个汉字的容器
            const box = document.createElement('div');
            box.className = 'char-box';
            
            const targetId = `target-${index}`;
            const targetDiv = document.createElement('div');
            targetDiv.id = targetId;
            
            const pinyinDiv = document.createElement('div');
            pinyinDiv.className = 'pinyin';
            pinyinDiv.innerText = config.pinyins[index] || '';

            box.appendChild(targetDiv);
            box.appendChild(pinyinDiv);
            container.appendChild(box);

            // 初始化 Hanzi Writer
            const writer = HanziWriter.create(targetId, char, {
                width: 150,
                height: 150,
                padding: 5,
                strokeAnimationSpeed: 1, // 书写速度
                delayBetweenStrokes: 200, // 笔画间隙
                strokeColor: '#2c3e50'    // 笔画颜色
            });

            // 循环播放动画
            function animate() {
                writer.animateCharacter({
                    onComplete: () => {
                        setTimeout(() => animate(), 2000); // 写完后停留2秒重播
                    }
                });
            }
            animate();
        });
    }

    // 执行
    renderHanzi();
</script>

</body>
</html>
