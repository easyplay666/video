<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>跟随鼠标的梦幻蝴蝶</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #111; /* 深色背景更能显出蝴蝶的颜色 */
            background: radial-gradient(circle, #2a2a2a 0%, #000000 100%);
            overflow: hidden; /* 防止出现滚动条 */
            height: 100vh;
            cursor: none; /* 隐藏默认鼠标，让蝴蝶代替 */
        }

        /* 蝴蝶容器 */
        #butterfly {
            position: absolute;
            width: 100px;
            height: 100px;
            transform: translate(-50%, -50%); /* 居中对齐鼠标 */
            pointer-events: none; /* 确保鼠标事件穿透 */
            z-index: 9999;
            filter: drop-shadow(0 0 10px rgba(0, 255, 255, 0.5)); /* 整体发光效果 */
        }

        /* 翅膀的公共样式 */
        .wing {
            position: absolute;
            width: 60px;
            height: 80px;
            top: 10px;
            background: linear-gradient(45deg, rgba(255, 0, 204, 0.8), rgba(51, 51, 255, 0.8));
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            transform-origin: bottom center; /* 扇动的轴心 */
            opacity: 0.9;
            mix-blend-mode: screen;
        }

        /* 翅膀纹理装饰 */
        .wing::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            background: radial-gradient(circle, #fff 10%, transparent 20%);
            background-size: 10px 10px;
            background-position: center;
        }

        /* 左翅膀 */
        .left-wing {
            left: -10px;
            transform: rotate(-30deg);
            animation: flap-left 0.2s infinite alternate ease-in-out;
            background: linear-gradient(135deg, #ff00cc, #3333ff);
        }

        /* 右翅膀 */
        .right-wing {
            right: -10px;
            transform: rotate(30deg) scaleX(-1); /* 镜像翻转 */
            animation: flap-right 0.2s infinite alternate ease-in-out;
            background: linear-gradient(135deg, #ff00cc, #3333ff);
        }

        /* 下翅膀 (更小一点) */
        .wing-bottom {
            width: 40px;
            height: 50px;
            top: 50px;
            z-index: -1;
            filter: brightness(0.8);
        }
        .left-bottom {
            left: 0px;
            transform-origin: top right;
            animation: flap-left-bottom 0.2s infinite alternate ease-in-out;
        }
        .right-bottom {
            right: 0px;
            transform-origin: top left;
            animation: flap-right-bottom 0.2s infinite alternate ease-in-out;
        }

        /* 身体 */
        .body {
            position: absolute;
            width: 6px;
            height: 50px;
            background: #fff;
            left: 50%;
            top: 25px;
            transform: translateX(-50%);
            border-radius: 10px;
            box-shadow: 0 0 10px #fff;
        }

        /* 触角 */
        .antenna {
            position: absolute;
            width: 2px;
            height: 25px;
            background: #fff;
            top: -15px;
            left: 50%;
            transform-origin: bottom;
            opacity: 0.8;
        }
        .antenna.left { transform: translateX(-50%) rotate(-30deg); }
        .antenna.right { transform: translateX(-50%) rotate(30deg); }

        /* 翅膀扇动动画 */
        @keyframes flap-left {
            0% { transform: rotateY(0deg) rotate(-10deg); }
            100% { transform: rotateY(60deg) rotate(-10deg); }
        }
        @keyframes flap-right {
            0% { transform: rotateY(0deg) rotate(10deg) scaleX(-1); }
            100% { transform: rotateY(60deg) rotate(10deg) scaleX(-1); }
        }
        
        @keyframes flap-left-bottom {
            0% { transform: rotateY(0deg) rotate(-20deg); }
            100% { transform: rotateY(60deg) rotate(-20deg); }
        }
        @keyframes flap-right-bottom {
            0% { transform: rotateY(0deg) rotate(20deg) scaleX(-1); }
            100% { transform: rotateY(60deg) rotate(20deg) scaleX(-1); }
        }

    </style>
</head>
<body>

    <div id="butterfly">
        <div class="wing left-wing"></div>
        <div class="wing wing-bottom left-bottom"></div>
        
        <div class="wing right-wing"></div>
        <div class="wing wing-bottom right-bottom"></div>

        <div class="body">
            <div class="antenna left"></div>
            <div class="antenna right"></div>
        </div>
    </div>

    <script>
        const butterfly = document.getElementById('butterfly');

        // 当前位置
        let currentX = window.innerWidth / 2;
        let currentY = window.innerHeight / 2;
        
        // 目标位置 (鼠标位置)
        let targetX = window.innerWidth / 2;
        let targetY = window.innerHeight / 2;

        // 旋转角度
        let angle = 0;

        // 监听鼠标移动
        document.addEventListener('mousemove', (e) => {
            targetX = e.clientX;
            targetY = e.clientY;
        });

        // 动画循环函数
        function animate() {
            // 1. 计算距离差异 (用于平滑移动)
            // 0.1 是延迟系数，越小越慢，越大跟得越紧
            const dx = targetX - currentX;
            const dy = targetY - currentY;

            // 2. 更新当前位置 (Lerp 线性插值算法)
            currentX += dx * 0.08;
            currentY += dy * 0.08;

            // 3. 计算旋转角度
            // 只有当移动距离足够大时才更新角度，防止停止时抖动
            if (Math.abs(dx) > 1 || Math.abs(dy) > 1) {
                // Math.atan2 计算两点间的弧度
                // + 90度 (Math.PI / 2) 是因为蝴蝶CSS默认是头朝上的
                const targetAngle = Math.atan2(dy, dx) * (180 / Math.PI) + 90;
                
                // 简单的角度平滑过渡
                // 处理 360 度旋转临界点的问题比较复杂，这里用简单的逼近
                angle += (targetAngle - angle) * 0.1;
            }

            // 4. 应用样式
            butterfly.style.left = `${currentX}px`;
            butterfly.style.top = `${currentY}px`;
            butterfly.style.transform = `translate(-50%, -50%) rotate(${angle}deg)`;

            // 5. 下一帧继续执行
            requestAnimationFrame(animate);
        }

        // 启动动画
        animate();
    </script>

</body>
</html>
